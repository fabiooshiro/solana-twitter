(function(){var e={72639:function(e,t,n){"use strict";n.d(t,{Ac:function(){return f},cr:function(){return o},Z3:function(){return h},mq:function(){return m},R:function(){return k},am:function(){return w},l_:function(){return _}});var a=n(21514);const o=async e=>{const{wallet:t,program:n}=(0,a.cF)();console.log({tweet:e}),await n.value.rpc.deleteTweet({accounts:{author:t.value.publicKey,tweet:e.publicKey}})};n(95988);var l=n(26746),r=n(45287),i=n.n(r);class s{constructor(e,t){(0,l.Z)(this,"publicKey",void 0),(0,l.Z)(this,"author",void 0),(0,l.Z)(this,"timestamp",void 0),(0,l.Z)(this,"topic",void 0),(0,l.Z)(this,"content",void 0),this.publicKey=e,this.author=t.author,this.timestamp=t.timestamp.toString(),this.topic=t.topic,this.content=t.content}get key(){return this.publicKey.toBase58()}get author_display(){const e=this.author.toBase58();return e.slice(0,4)+".."+e.slice(-4)}get created_at(){return i().unix(+this.timestamp).format("lll")}get created_ago(){return i().unix(+this.timestamp).fromNow()}}var c=n(12179),u=n.n(c),d=n(19236),p=n(39028),v=n(37154),g=n(71159)["lW"];const m=(e=[],t=6,n=((...e)=>{}))=>{e=(0,p.iH)(e);const{program:o,connection:l}=(0,a.cF)(),r=(0,p.iH)(0),i=async()=>{r.value=0;const t=o.value.account.tweet,n=t._idlAccount.name,a={memcmp:t.coder.accounts.memcmp(n)},i=e,s=await l.value.getProgramAccounts(o.value.programId,{filters:[a,...i.value],dataSlice:{offset:40,length:8}});console.log("ok",s.map((e=>e.pubkey.toString())));const c=s.map((({account:e,pubkey:t})=>({pubkey:t,timestamp:new d.BN(e.data,"le")})));return c.sort(((e,t)=>t.timestamp.cmp(e.timestamp))).map((({pubkey:e})=>e))},c=async(e,t)=>{const n=await o.value.account.tweet.fetchMultiple(t);return n.reduce(((e,n,a)=>{const o=t[a];return console.log(o.toString(),n),e.push(new s(o,n)),e}),[])},u=(0,a.h0)(t,i,c),{hasPage:g,getPage:m}=u,f=(0,v.Fl)((()=>g(r.value+1))),w=async()=>{const e=await m(r.value+1);r.value+=1,n(e)};return{page:r,hasNextPage:f,getNextPage:w,...u}},f=e=>({memcmp:{offset:8,bytes:e}}),w=e=>({memcmp:{offset:52,bytes:u().encode(g.from(e))}}),h=async e=>{const{program:t}=(0,a.cF)(),n=await t.value.account.tweet.fetch(e);return new s(e,n)};var y=n(74933),x=n(71159)["lW"];const b=async(e,t,n)=>{const[a,o]=await y.PublicKey.findProgramAddress([e.toBuffer(),x.from(t)],n.value.programId);return{publicKey:a}},k=async(e,t)=>{const{wallet:n,program:o}=(0,a.cF)(),l=Date.now().toString(),r=await b(n.value.publicKey,l,o);await o.value.rpc.sendTweet(e,t,l,{accounts:{author:n.value.publicKey,tweet:r.publicKey,systemProgram:d.rV.yc.programId},signers:[]});const i=await o.value.account.tweet.fetch(r.publicKey);return new s(r.publicKey,i)},_=async(e,t,n)=>{const{wallet:o,program:l}=(0,a.cF)();await l.value.rpc.updateTweet(t,n,{accounts:{author:o.value.publicKey,tweet:e.publicKey}}),e.topic=t,e.content=n}},21514:function(e,t,n){"use strict";n.d(t,{Ev:function(){return d.Ev},MG:function(){return d.MG},dN:function(){return o},T8:function(){return r},c3:function(){return s},h0:function(){return c},f2:function(){return u},cF:function(){return d.cF}});var a=n(37154);const o=e=>{const t=()=>{e.value.style.height="auto",e.value.style.height=e.value.scrollHeight+"px"};(0,a.m0)((n=>{e.value&&(t(),e.value.addEventListener("input",t),n((()=>e.value?.removeEventListener("input",t))))}))};var l=n(39028);const r=(e,t)=>{const n=(0,l.iH)(0);return(0,a.m0)((()=>n.value=t-e.value?.length)),n};var i=n(86518);const s=e=>{e((0,i.yj)(),null),(0,i.ao)(((t,n,a)=>{e(t,n),a()}))},c=(e,t,n)=>{e=(0,l.iH)(e);const o=(0,l.iH)([]),r=(0,l.iH)(!0),i=(0,l.iH)(!1),s=(0,a.Fl)((()=>r.value||i.value));let c;const u=()=>(c=(async()=>{try{r.value=!0,o.value=await t()}finally{r.value=!1}})(),c),d=t=>o.value.slice((t-1)*e.value,t*e.value),p=e=>d(e).length>0,v=async e=>{if(await c,!p(e))return[];try{return i.value=!0,await n(e,d(e))}finally{i.value=!1}};return{perPage:e,allPublicKeys:o,prefetchLoading:r,pageLoading:i,loading:s,getPagePublicKeys:d,hasPage:p,getPage:v,prefetch:u}},u=e=>(0,a.Fl)((()=>(e.value||"").toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")));var d=n(56512)},56512:function(e,t,n){"use strict";n.d(t,{z4:function(){return _},Ev:function(){return x},MG:function(){return b},cF:function(){return y}});var a=n(37154),o=n(39028),l=n(57581),r=n(74933),i=n(19236),s=n(55008),c=JSON.parse('{"version":"0.1.0","name":"solana_twitter","instructions":[{"name":"sendTweet","accounts":[{"name":"tweet","isMut":true,"isSigner":false},{"name":"author","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[{"name":"topic","type":"string"},{"name":"content","type":"string"},{"name":"userTweetId","type":"string"}]},{"name":"updateTweet","accounts":[{"name":"tweet","isMut":true,"isSigner":false},{"name":"author","isMut":false,"isSigner":true}],"args":[{"name":"topic","type":"string"},{"name":"content","type":"string"}]},{"name":"deleteTweet","accounts":[{"name":"tweet","isMut":true,"isSigner":false},{"name":"author","isMut":false,"isSigner":true}],"args":[]}],"accounts":[{"name":"Tweet","type":{"kind":"struct","fields":[{"name":"author","type":"publicKey"},{"name":"timestamp","type":"i64"},{"name":"topic","type":"string"},{"name":"content","type":"string"}]}}],"errors":[{"code":6000,"name":"TopicTooLong","msg":"The provided topic should be 50 characters long maximum."},{"code":6001,"name":"ContentTooLong","msg":"The provided content should be 280 characters long maximum."},{"code":6002,"name":"Forbidden","msg":"Forbidden"}],"metadata":{"address":"DEVemLxXHPz1tbnBbTVXtvNBHupP2RCBw1jTFN8Uz3FD"}}'),u=n(87436),d=n.n(u);const p="https://api.devnet.solana.com",v="processed",g="processed",m=new r.PublicKey(c.metadata.address);let f=null;const w={inspectURL:"https://solana-adapter.goerli.rollups.staging.cartesi.io/inspect",graphqlURL:"https://solana-adapter.goerli.rollups.staging.cartesi.io/graphql",contractAddress:"0xA17BE28F84C89474831261854686a6357B7B9c1E",report:{maxRetry:10,baseDelay:1e3}},h=new(d())(w),y=()=>f,x=()=>{b()?U():k()};function b(){return"1"===localStorage.getItem("ctsi_sol")}function k(){const e=(0,l.zs)(),t=new r.Connection(p,g),n=(0,a.Fl)((()=>new i.Y7(t,e.value||{},{preflightCommitment:v,commitment:g}))),s=(0,a.Fl)((()=>new i.$r(c,m,n.value)));f={wallet:e,connection:(0,o.iH)(t),provider:n,program:s}}async function _(){const{ethereum:e}=window;if(!e)return void alert("Get MetaMask!");const t=new s.Q(e);await t.send("eth_requestAccounts",[]);const n=t.getSigner();console.log("Signer",n),await h.onWalletConnected(n);const{program:a,provider:o,wallet:l,connection:r}=h.getWorkspace({idl:c,signer:n});f||U(),f.wallet.value=l,f.program.value=a,f.provider.value=o,f.signer=n,f.connection.value=r,l.connected=!0}async function S(){const{ethereum:e}=window;if(!e)return;const t=await e.request({method:"eth_accounts"});t.length&&_(),e.on("accountsChanged",S)}function U(){try{const{connection:e,wallet:t,provider:n,program:a}=h.getWorkspace({idl:c});f={wallet:(0,o.iH)(t),connection:(0,o.iH)(e),provider:(0,o.iH)(n),program:(0,o.iH)(a)}}catch(e){console.log(e)}}S()},44908:function(e,t,n){"use strict";var a=n(45287),o=n.n(a),l=n(85921),r=n.n(l),i=n(10867),s=n.n(i),c=n(86518),u=[{name:"Home",path:"/",component:n(60542).Z},{name:"Topics",path:"/topics/:topic?",component:n(95817).Z},{name:"Users",path:"/users/:author?",component:n(56917).Z},{name:"Profile",path:"/profile",component:n(40863).Z},{name:"Tweet",path:"/tweet/:tweet",component:n(12618).Z},{name:"NotFound",path:"/:pathMatch(.*)*",component:n(37360).Z}],d=n(37280),p=n(37154),v=n(76326),g=n(39028),m=n(57581),f=n(56512);const w={class:"flex flex-col items-center md:items-stretch space-y-2 md:space-y-4"},h=(0,p._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 md:h-10 w-8 md:w-10 text-pink-500",viewBox:"0 0 20 20",fill:"currentColor"},[(0,p._)("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"}),(0,p._)("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"})],-1),y={class:"flex flex-col items-center md:items-stretch space-y-2"},x={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",viewBox:"0 0 20 20",fill:"currentColor"},b=(0,p._)("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"},null,-1),k=[b],_={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},S=(0,p._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"},null,-1),U=[S],H=(0,p._)("div",{class:"text-xl hidden md:block"},"Home",-1),C={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",viewBox:"0 0 20 20",fill:"currentColor"},M=(0,p._)("path",{d:"M2 5a2 2 0 012-2h7a2 2 0 012 2v4a2 2 0 01-2 2H9l-3 3v-3H4a2 2 0 01-2-2V5z"},null,-1),F=(0,p._)("path",{d:"M15 7v2a4 4 0 01-4 4H9.828l-1.766 1.767c.28.149.599.233.938.233h2l3 3v-3h2a2 2 0 002-2V9a2 2 0 00-2-2h-1z"},null,-1),D=[M,F],P={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},z=(0,p._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"},null,-1),N=[z],T=(0,p._)("div",{class:"text-xl hidden md:block"},"Topics",-1),B={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",viewBox:"0 0 20 20",fill:"currentColor"},j=(0,p._)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3zM6 8a2 2 0 11-4 0 2 2 0 014 0zM16 18v-3a5.972 5.972 0 00-.75-2.906A3.005 3.005 0 0119 15v3h-3zM4.75 12.094A5.973 5.973 0 004 15v3H1v-3a3 3 0 013.75-2.906z"},null,-1),L=[j],O={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Z=(0,p._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"},null,-1),E=[Z],K=(0,p._)("div",{class:"text-xl hidden md:block"},"Users",-1),V={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",viewBox:"0 0 20 20",fill:"currentColor"},A=(0,p._)("path",{"fill-rule":"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z","clip-rule":"evenodd"},null,-1),W=[A],$={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 text-gray-700",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},I=(0,p._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"},null,-1),q=[I],R=(0,p._)("div",{class:"text-xl hidden md:block"},"Profile",-1),Y={key:0,class:"fixed bottom-8 right-8 md:static w-48 md:w-full"},G={key:1,class:"fixed bottom-8 right-8 md:static w-48 md:w-full"},J={class:"fixed bottom-8 right-8 md:static w-48 md:w-full"};var Q={__name:"TheSidebar",setup(e){const{connected:t}=(0,m.Os)(),{wallet:n}=(0,f.cF)(),a=(0,f.MG)(),o=a?(0,g.iH)(n.connected):t,l=(0,g.iH)(!1),r=(0,g.iH)("0x");async function i(){console.log("connecting..."),(0,f.z4)()}async function s(){const{ethereum:e}=window;if(!e)return void(l.value=!1);const t=await e.request({method:"eth_accounts"});t.length?(console.log(`You're connected to: ${t[0]}`),r.value=t[0],l.value=!0,o.value=!0):(console.log("Metamask is not connected"),l.value=!1),e.on("accountsChanged",s)}function c(){console.log("copy address"),navigator.clipboard.writeText(r.value),alert("copied")}function u(e){return e&&"string"===typeof e?e.substring(0,6)+".."+e.substring(e.length-4):""}function d(){localStorage.setItem("ctsi_sol","1"),location.reload()}function b(){localStorage.setItem("ctsi_sol","0"),location.reload()}return s(),(e,t)=>{const n=(0,p.up)("router-link");return(0,p.wg)(),(0,p.iD)("aside",w,[(0,p.Wm)(n,{to:{name:"Home"},class:"inline-block rounded-full hover:bg-gray-100 p-3 md:self-start"},{default:(0,p.w5)((()=>[h])),_:1}),(0,p._)("div",y,[(0,p.Wm)(n,{to:{name:"Home"},class:"rounded-full hover:bg-gray-100 p-3 md:w-full inline-flex items-center space-x-4","active-class":"font-bold"},{default:(0,p.w5)((({isActive:e})=>[e?((0,p.wg)(),(0,p.iD)("svg",x,k)):((0,p.wg)(),(0,p.iD)("svg",_,U)),H])),_:1}),(0,p.Wm)(n,{to:{name:"Topics"},class:"rounded-full hover:bg-gray-100 p-3 md:w-full inline-flex items-center space-x-4","active-class":"font-bold"},{default:(0,p.w5)((({isActive:e})=>[e?((0,p.wg)(),(0,p.iD)("svg",C,D)):((0,p.wg)(),(0,p.iD)("svg",P,N)),T])),_:1}),(0,p.Wm)(n,{to:{name:"Users"},class:"rounded-full hover:bg-gray-100 p-3 md:w-full inline-flex items-center space-x-4","active-class":"font-bold"},{default:(0,p.w5)((({isActive:e})=>[e?((0,p.wg)(),(0,p.iD)("svg",B,L)):((0,p.wg)(),(0,p.iD)("svg",O,E)),K])),_:1}),(0,g.SU)(o)?((0,p.wg)(),(0,p.j4)(n,{key:0,to:{name:"Profile"},class:"rounded-full hover:bg-gray-100 p-3 md:w-full inline-flex items-center space-x-4","active-class":"font-bold"},{default:(0,p.w5)((({isActive:e})=>[e?((0,p.wg)(),(0,p.iD)("svg",V,W)):((0,p.wg)(),(0,p.iD)("svg",$,q)),R])),_:1})):(0,p.kq)("",!0)]),(0,g.SU)(a)?((0,p.wg)(),(0,p.iD)("div",Y,[l.value?((0,p.wg)(),(0,p.iD)("button",{key:0,class:"text-white px-4 py-2 rounded-full font-semibold bg-pink-500 w-full",onClick:c},(0,v.zw)(u(r.value)),1)):((0,p.wg)(),(0,p.iD)("button",{key:1,class:"text-white px-4 py-2 rounded-full font-semibold bg-pink-500 w-full",onClick:i}," Connect MetaMask "))])):((0,p.wg)(),(0,p.iD)("div",G,[(0,p.Wm)((0,g.SU)(m.aD))])),(0,p._)("div",J,[(0,g.SU)(a)?((0,p.wg)(),(0,p.iD)("button",{key:0,class:"text-white px-4 py-2 rounded-full font-semibold bg-pink-500 w-full",onClick:b}," Change to Solana ")):((0,p.wg)(),(0,p.iD)("button",{key:1,class:"text-white px-4 py-2 rounded-full font-semibold bg-pink-500 w-full",onClick:d}," Change to Cartesi "))])])}}};const X=Q;var ee=X,te=n(63918),ne=n(2774),ae=n(21514);const oe={class:"w-full max-w-3xl lg:max-w-4xl mx-auto"},le={class:"flex-1 border-r border-l ml-20 md:ml-64 min-h-screen"},re={class:"flex space-x-6 items-center justify-between px-8 py-4 border-b"},ie=["textContent"];var se=(0,p.aZ)({__name:"App",setup(e){const t=(0,c.yj)(),n=[new te.O,new ne.e];return(0,m.y2)({wallets:n,autoConnect:!0}),(0,ae.Ev)(),(e,n)=>{const a=(0,p.up)("router-view");return(0,p.wg)(),(0,p.iD)("div",oe,[(0,p.Wm)(ee,{class:"py-4 md:py-8 md:pl-4 md:pr-8 fixed w-20 md:w-64"}),(0,p._)("main",le,[(0,p._)("header",re,[(0,p._)("div",{class:"text-xl font-bold",textContent:(0,v.zw)((0,g.SU)(t).name)},null,8,ie)]),(0,p.Wm)(a)])])}}});const ce=se;var ue=ce;o().extend(r()),o().extend(s());const de=(0,c.p7)({history:(0,c.r5)(),routes:u});(0,d.ri)(ue).use(de).mount("#app")},60542:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});n(95988);var a=n(37154),o=n(39028),l=n(72639),r=n(34613),i=n(47587),s={__name:"PageHome",setup(e){const t=(0,o.iH)([]),n=e=>t.value.push(...e),{prefetch:s,hasNextPage:c,getNextPage:u,loading:d}=(0,l.mq)([],10,n);s().then(u);const p=e=>t.value.push(e);return(e,n)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)((0,o.SU)(r.Z),{onAdded:p}),(0,a.Wm)((0,o.SU)(i.Z),{tweets:t.value,"onUpdate:tweets":n[0]||(n[0]=e=>t.value=e),loading:(0,o.SU)(d),"has-more":(0,o.SU)(c),onMore:(0,o.SU)(u)},null,8,["tweets","loading","has-more","onMore"])],64))}};const c=s;var u=c},37360:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var a=n(37154);const o={class:"p-8 text-gray-500 text-center"},l=(0,a._)("p",null,"404 — Not Found",-1);function r(e,t){const n=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",o,[l,(0,a.Wm)(n,{to:{name:"Home"},class:"block text-pink-500 hover:underline mt-2"},{default:(0,a.w5)((()=>[(0,a.Uk)(" Go back home ")])),_:1})])}var i=n(17944);const s={},c=(0,i.Z)(s,[["render",r]]);var u=c},40863:function(e,t,n){"use strict";n.d(t,{Z:function(){return Q}});n(95988);var a=n(37154),o=n(39028),l=n(76326),r=n(84856),i=n(59285),s=n(46098),c=n(72639),u=n(34613),d=n(47587),p=n(21514),v=n(78939);const g="0xA17BE28F84C89474831261854686a6357B7B9c1E",m=async e=>{console.log(`connect to contracts address=${g}`);const t=v.InputFacet__factory.connect(g,e),n=v.OutputFacet__factory.connect(g,e),a=v.ERC20PortalFacet__factory.connect(g,e);return{inputContract:t,outputContract:n,erc20Portal:a}};var f=n(19236),w=n(20692),h=n(22486),y=n.n(h);const x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"voucher"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"voucher"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"destination"}},{kind:"Field",name:{kind:"Name",value:"payload"}},{kind:"Field",name:{kind:"Name",value:"index"}},{kind:"Field",name:{kind:"Name",value:"proof"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"outputHashesRootHash"}},{kind:"Field",name:{kind:"Name",value:"vouchersEpochRootHash"}},{kind:"Field",name:{kind:"Name",value:"noticesEpochRootHash"}},{kind:"Field",name:{kind:"Name",value:"machineStateHash"}},{kind:"Field",name:{kind:"Name",value:"keccakInHashesSiblings"}},{kind:"Field",name:{kind:"Name",value:"outputHashesInEpochSiblings"}}]}},{kind:"Field",name:{kind:"Name",value:"input"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"index"}},{kind:"Field",name:{kind:"Name",value:"epoch"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"index"}}]}}]}}]}}]}}]},b=async(e,t)=>{const n=(0,w.eI)({url:e,exchanges:w.Q9,fetch:y()});console.log(`querying ${e} for voucher "${t}"...`);const{data:a,error:o}=await n.query(x,{id:t}).toPromise();if(a?.voucher)return a.voucher;throw new Error(o?.message)};var k=n(74933),_=n(71159),S=JSON.parse('{"Pu":{"L":"2QB8wEBJ8jjMQuZPvj3jaZP7JJb5j21u4xbxTnwsZRfv"}}');const U="https://solana-adapter.goerli.rollups.staging.cartesi.io/graphql";new k.PublicKey(S.Pu.L),new TextEncoder;function H(e){const t=_.lW.from(e.substring(2),"hex"),n=[];for(let o=0;o<32;o++)n.push(t[o]||0);const a=k.PublicKey.decode(_.lW.from(n));return a}const C=w.Ps`
  query listVouchers($first: Int, $last: Int, $after: String, $before: String, $where: VoucherFilter) {
    vouchers(first: $first, last: $last, after: $after, before: $before, where: $where) {
        nodes {
            id
            proof {
                outputHashesRootHash
            }
            destination
            payload
        }
        pageInfo {
            startCursor
            endCursor
            hasNextPage
            hasPreviousPage
        }
    }
  }
`;async function M(e,t){const n=(0,w.eI)({url:e,exchanges:w.Q9,fetch:y()}),a=await n.query(C,{}).toPromise();return a.data?.vouchers?.nodes||[]}function F(e){return e?.startsWith("0xa9059cbb")}function D(e){const t=!0,n=10,a=64,o=64,l=n+a,i=l+o,s=e.substring(l,i),c=r.O$.from(`0x${s}`),u=n+24,d=u+40,p="0x"+e.substring(u,d);return{isTransfer:t,recipient:p,amount:c}}async function P(e){const t=await M(U,e);return t.map((e=>{let t={};return F(e.payload)&&(t=D(e.payload)),{...e,extra:t}}))}async function z(e,t){const{outputContract:n}=await m(e),a=await b(U,t);if(!a.proof)throw new Error(`Voucher "${t}" has no associated proof yet`);const o={...a.proof,epochIndex:a.input.epoch.index,inputIndex:a.input.index,outputIndex:a.index};try{const e=await n.executeVoucher(a.destination,a.payload,o),t=await e.wait();console.log(`voucher executed! (tx="${e.hash}")`),t.events&&console.log(`resulting events: ${JSON.stringify(t.events)}`)}catch(l){throw console.log(`COULD NOT EXECUTE VOUCHER: ${JSON.stringify(l)}`),l}}var N=n(80925),T=n(58142),B=n(71159)["lW"];const j=e=>((0,a.dD)("data-v-b071f5da"),e=e(),(0,a.Cn)(),e),L={key:0,class:"border-b px-8 py-4 bg-gray-50 break-all"},O={key:1,class:"border-b px-8 py-4 break-all"},Z=["value"],E={class:"py-4 break-all"},K=["value"],V=["disabled"],A=["disabled"],W={class:"px-6 py-4 break-all"},$={class:"px-6 break-all"},I={style:{"margin-top":"7px"}},q=j((()=>(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"id"),(0,a._)("th",null,"token"),(0,a._)("th",null,"recipient"),(0,a._)("th",null,"amount"),(0,a._)("th")])],-1))),R=["disabled","onClick"];var Y={__name:"PageProfile",setup(e){const t=(0,o.iH)([]),{wallet:g,connection:w}=(0,p.cF)(),h=(0,o.iH)([]),y=(0,p.MG)(),x=e=>t.value.push(...e),{prefetch:b,hasNextPage:k,getNextPage:_,loading:S}=(0,c.mq)(h,10,x),U=(0,o.iH)("0x67d269191c92Caf3cD7723F116c85e6E9bf55933"),C=(0,o.iH)([]);(0,a.m0)((()=>{g.value&&(Q(U.value,w.value,g),te(),t.value=[],h.value=[(0,c.Ac)(g.value.publicKey.toBase58())],b().then(_))}));const M=(0,o.iH)(0),F=(0,a.Fl)((()=>(Q(U.value,w.value,g),U.value))),D=(0,a.Fl)((()=>M.value)),j=e=>t.value.push(e),Y=(0,a.Fl)((()=>!0)),G=(0,o.iH)(0),J=(0,o.iH)(0);async function Q(e,t){if(42!=e.length)return;const{signer:n}=(0,p.cF)();if(!n)return void console.log("no signer");console.log("load token balance");const a=H(e),o=await n.getAddress(),l=H(o);try{const e=await(0,N.Am)(a,l,!0);console.log(`Solana associated token address ${e.toString()}`);const n=await(0,T.D0)(t,e);G.value=n.amount}catch(s){if("TokenAccountNotFoundError"!==s?.constructor?.name)throw s;console.log("Account not found")}const r=v.IERC20__factory.connect(e,n),i=await r.balanceOf(o);J.value=i}async function X(){const{signer:e}=(0,p.cF)(),{erc20Portal:t}=await m(e),n=r.O$.from(M.value),a=await e.getAddress(),o=U.value,l=v.IERC20__factory.connect(o,e),i=await l.allowance(a,t.address);if(i.lt(n)){const e=r.O$.from(n).sub(i);console.log(`approving allowance of ${e} tokens...`);const a=await l.approve(t.address,e);await a.wait()}const s=await t.erc20Deposit(o,n,"0x");console.log("Sending",t),console.log(`transaction: ${s.hash}`),console.log("waiting for confirmation...");const c=await s.wait();console.log({receipt:c})}async function ee(){console.log("Creating voucher...");const{signer:e}=(0,p.cF)(),{inputContract:t}=await m(e),{keccak256:a}=n(70018),o=a(i.Y0("Create ERC-20 Voucher")),l=s.lE(o),r=new f.BN(M.value),c=r.toArrayLike(B,"be",8),u=s.lE(U.value);console.log(o,l);const d=B.from([...l,...c,...u]);console.log(s.Dv(d));const v=await t.addInput(d),g=await v.wait(1);console.log("Receipt",g)}async function te(){C.value=await P({}),console.log("vouchers",C.value)}async function ne(e){console.log(`execute voucher ${e}`);const{signer:t}=(0,p.cF)();try{await z(t,e)}catch(n){console.error(n),alert(n.message)}}function ae(e){return e&&"string"===typeof e?e.substring(0,6)+".."+e.substring(e.length-4):""}return(e,n)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,o.SU)(g)?((0,a.wg)(),(0,a.iD)("div",L,(0,l.zw)((0,o.SU)(g).publicKey.toBase58()),1)):(0,a.kq)("",!0),(0,o.SU)(y)?((0,a.wg)(),(0,a.iD)("div",O,[(0,a._)("input",{type:"text",placeholder:"token",class:"text-pink-500 rounded-full pl-10 pr-4 py-2 bg-gray-100",value:(0,o.SU)(F),onInput:n[0]||(n[0]=e=>U.value=e.target.value)},null,40,Z),(0,a._)("div",E,[(0,a._)("input",{type:"text",placeholder:"amount",class:"text-pink-500 rounded-full pl-10 pr-4 py-2 bg-gray-100",value:(0,o.SU)(D),onInput:n[1]||(n[1]=e=>M.value=e.target.value)},null,40,K)]),(0,a._)("button",{style:{"margin-right":"7px"},class:(0,l.C_)(["text-white px-4 py-2 rounded-full font-semibold",(0,o.SU)(Y)?"bg-pink-500":"bg-pink-300 cursor-not-allowed"]),disabled:!(0,o.SU)(Y),onClick:X}," Transfer from L1 to L2 ",10,V),(0,a._)("button",{class:(0,l.C_)(["text-white px-4 py-2 rounded-full font-semibold",(0,o.SU)(Y)?"bg-pink-500":"bg-pink-300 cursor-not-allowed"]),disabled:!(0,o.SU)(Y),onClick:ee}," Emit Voucher ",10,A),(0,a._)("div",W," L1 amount: "+(0,l.zw)(J.value),1),(0,a._)("div",$," L2 amount: "+(0,l.zw)(G.value),1),(0,a._)("table",I,[q,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(C.value,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",null,(0,l.zw)(e.id),1),(0,a._)("td",null,(0,l.zw)(ae(e.destination)),1),(0,a._)("td",null,(0,l.zw)(ae(e.extra?.recipient)),1),(0,a._)("td",null,(0,l.zw)(e.extra?.amount?.toString()),1),(0,a._)("td",null,[(0,a._)("button",{disabled:!e.proof,class:(0,l.C_)(["text-white px-4 py-2 rounded-full font-semibold",e.proof?"bg-pink-500":"bg-pink-300 cursor-not-allowed"]),onClick:()=>ne(e.id)}," Exec ",10,R)])])))),128))])])])):(0,a.kq)("",!0),(0,a.Wm)((0,o.SU)(u.Z),{onAdded:j}),(0,a.Wm)((0,o.SU)(d.Z),{tweets:t.value,"onUpdate:tweets":n[2]||(n[2]=e=>t.value=e),loading:(0,o.SU)(S),"has-more":(0,o.SU)(k),onMore:(0,o.SU)(_)},null,8,["tweets","loading","has-more","onMore"])],64))}},G=n(17944);const J=(0,G.Z)(Y,[["__scopeId","data-v-b071f5da"]]);var Q=J},95817:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});n(95988);var a=n(37154),o=n(39028),l=n(86518),r=n(72639),i=n(21514),s=n(34613),c=n(47587),u=n(94468);const d=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z","clip-rule":"evenodd"})],-1),p={key:0},v={key:0,class:"p-8 text-gray-500 text-center"};var g={__name:"PageTopics",setup(e){const t=(0,l.tv)(),n=(0,o.iH)([]),g=(0,o.iH)(""),m=(0,i.f2)(g),f=(0,o.iH)(""),w=(0,o.iH)([]),h=e=>n.value.push(...e),{prefetch:y,hasNextPage:x,getNextPage:b,loading:k}=(0,r.mq)(w,10,h),_=()=>{t.push(`/topics/${m.value}`)},S=()=>{m.value!==f.value&&(n.value=[],f.value=m.value,w.value=[(0,r.am)(m.value)],y().then(b))},U=e=>n.value.push(e);return(0,i.c3)((e=>{g.value=e.params.topic,g.value?S():(n.value=[],f.value="")})),(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)((0,o.SU)(u.Z),{placeholder:"topic",disabled:!(0,o.SU)(m),modelValue:(0,o.SU)(m),"onUpdate:modelValue":t[0]||(t[0]=e=>g.value=e),onSearch:_},{icon:(0,a.w5)((()=>[d])),_:1},8,["disabled","modelValue"]),f.value?((0,a.wg)(),(0,a.iD)("div",p,[(0,a.Wm)((0,o.SU)(s.Z),{onAdded:U,"forced-topic":f.value},null,8,["forced-topic"]),(0,a.Wm)((0,o.SU)(c.Z),{tweets:n.value,"onUpdate:tweets":t[1]||(t[1]=e=>n.value=e),loading:(0,o.SU)(k),"has-more":(0,o.SU)(x),onMore:(0,o.SU)(b)},null,8,["tweets","loading","has-more","onMore"]),(0,o.SU)(k)||0!==n.value.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",v," No tweets were found in this topic... "))])):(0,a.kq)("",!0)],64))}};const m=g;var f=m},12618:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});n(95988);var a=n(37154),o=n(39028),l=n(74933),r=n(72639),i=n(21514),s=n(8455);const c={key:0,class:"p-8 text-gray-500 text-center"},u={key:1,class:"p-8 text-gray-500 text-center"};var d={__name:"PageTweet",setup(e){const t=(0,o.iH)(null);(0,i.c3)((e=>t.value=e.params.tweet));const n=(0,o.iH)(!1),d=(0,o.iH)(null);return(0,a.m0)((async()=>{try{n.value=!0,d.value=await(0,r.Z3)(new l.PublicKey(t.value))}catch(e){d.value=null}finally{n.value=!1}})),(e,t)=>n.value?((0,a.wg)(),(0,a.iD)("div",c," Loading... ")):d.value?((0,a.wg)(),(0,a.j4)((0,o.SU)(s.Z),{key:2,tweet:d.value,onDelete:t[0]||(t[0]=t=>e.$router.push({name:"Home"}))},null,8,["tweet"])):((0,a.wg)(),(0,a.iD)("div",u," Tweet not found "))}};const p=d;var v=p},56917:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});n(95988);var a=n(37154),o=n(39028),l=n(86518),r=n(72639),i=n(21514),s=n(47587),c=n(94468);const u=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[(0,a._)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})],-1),d={key:0},p={key:0,class:"p-8 text-gray-500 text-center"};var v={__name:"PageUsers",setup(e){const t=(0,l.tv)(),n=(0,o.iH)([]),v=(0,o.iH)(""),g=(0,o.iH)(""),m=(0,o.iH)([]),f=e=>n.value.push(...e),{prefetch:w,hasNextPage:h,getNextPage:y,loading:x}=(0,r.mq)(m,10,f),b=()=>{t.push(`/users/${v.value}`)},k=()=>{v.value!==g.value&&(n.value=[],g.value=v.value,m.value=[(0,r.Ac)(v.value)],w().then(y))};return(0,i.c3)((e=>{v.value=e.params.author,v.value?k():(n.value=[],g.value="")})),(e,t)=>((0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)((0,o.SU)(c.Z),{placeholder:"public key",disabled:!v.value,modelValue:v.value,"onUpdate:modelValue":t[0]||(t[0]=e=>v.value=e),onSearch:b},{icon:(0,a.w5)((()=>[u])),_:1},8,["disabled","modelValue"]),g.value?((0,a.wg)(),(0,a.iD)("div",d,[(0,a.Wm)((0,o.SU)(s.Z),{tweets:n.value,"onUpdate:tweets":t[1]||(t[1]=e=>n.value=e),loading:(0,o.SU)(x),"has-more":(0,o.SU)(h),onMore:(0,o.SU)(y)},null,8,["tweets","loading","has-more","onMore"]),(0,o.SU)(x)||0!==n.value.length?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",p," User not found... "))])):(0,a.kq)("",!0)],64))}};const g=v;var m=g},8455:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var a=n(37154),o=n(39028),l=n(76326),r=n(21514),i=n(72639),s=n(37280),c=n(57581);const u={key:0},d={class:"px-8 py-4 border-l-4 border-pink-500"},p={class:"py-1"},v=["title"],g=(0,a._)("span",{class:"text-gray-500"}," • ",-1),m=["title"],f={class:"flex flex-wrap items-center justify-between -m-2"},w={class:"relative m-2 mr-4"},h=["value"],y={class:"absolute left-0 inset-y-0 flex pl-3 pr-2"},x=(0,a._)("path",{"fill-rule":"evenodd",d:"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z","clip-rule":"evenodd"},null,-1),b=[x],k={class:"flex items-center space-x-4 m-2 ml-auto"},_=["disabled"],S={key:1,class:"px-8 py-4 bg-gray-50 text-gray-500 text-center border-b"};var U={__name:"TweetFormUpdate",props:{tweet:Object},emits:["close"],setup(e,{emit:t}){const n=e,{tweet:x}=(0,o.BK)(n),U=(0,o.iH)(x.value.content),H=(0,o.iH)(x.value.topic),C=(0,r.f2)(H),M=(0,o.iH)();(0,r.dN)(M);const F=(0,r.T8)(U,280),D=(0,a.Fl)((()=>F.value<0?"text-red-500":F.value<=10?"text-yellow-500":"text-gray-400")),{connected:P}=(0,c.Os)(),z=(0,a.Fl)((()=>U.value&&F.value>0)),N=async()=>{z.value&&(await(0,i.l_)(x.value,C.value,U.value),t("close"))};return(e,n)=>{const r=(0,a.up)("router-link");return(0,o.SU)(P)?((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("div",d,[(0,a._)("div",p,[(0,a._)("h3",{class:"inline font-semibold",title:(0,o.SU)(x).author},[(0,a.Wm)(r,{to:{name:"Profile"},class:"hover:underline"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)((0,o.SU)(x).author_display),1)])),_:1})],8,v),g,(0,a._)("time",{class:"text-gray-500 text-sm",title:(0,o.SU)(x).created_at},[(0,a.Wm)(r,{to:{name:"Tweet",params:{tweet:(0,o.SU)(x).publicKey.toBase58()}},class:"hover:underline"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)((0,o.SU)(x).created_ago),1)])),_:1},8,["to"])],8,m)]),(0,a.wy)((0,a._)("textarea",{ref_key:"textarea",ref:M,rows:"1",class:"text-xl w-full focus:outline-none resize-none mb-3",placeholder:"What's happening?","onUpdate:modelValue":n[0]||(n[0]=e=>U.value=e)},null,512),[[s.nr,U.value]]),(0,a._)("div",f,[(0,a._)("div",w,[(0,a._)("input",{type:"text",placeholder:"topic",class:"text-pink-500 rounded-full pl-10 pr-4 py-2 bg-gray-100",value:(0,o.SU)(C),onInput:n[1]||(n[1]=e=>H.value=e.target.value)},null,40,h),(0,a._)("div",y,[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",class:(0,l.C_)(["h-5 w-5 m-auto",(0,o.SU)(C)?"text-pink-500":"text-gray-400"]),viewBox:"0 0 20 20",fill:"currentColor"},b,2))])]),(0,a._)("div",k,[(0,a._)("div",{class:(0,l.C_)((0,o.SU)(D))},(0,l.zw)((0,o.SU)(F))+" left ",3),(0,a._)("button",{class:"text-gray-500 px-4 py-2 rounded-full border bg-white hover:bg-gray-50",onClick:n[2]||(n[2]=e=>t("close"))}," Cancel "),(0,a._)("button",{class:(0,l.C_)(["text-white px-4 py-2 rounded-full font-semibold",(0,o.SU)(z)?"bg-pink-500":"bg-pink-300 cursor-not-allowed"]),disabled:!(0,o.SU)(z),onClick:N}," Update ",10,_)])])])])):((0,a.wg)(),(0,a.iD)("div",S," Connect your wallet to start tweeting... "))}}};const H=U;var C=H;const M={key:1,class:"px-8 py-4"},F={class:"flex justify-between"},D={class:"py-1"},P=["title"],z=(0,a._)("span",{class:"text-gray-500"}," • ",-1),N=["title"],T={key:0,class:"flex"},B=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 m-auto",viewBox:"0 0 20 20",fill:"currentColor"},[(0,a._)("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),(0,a._)("path",{"fill-rule":"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z","clip-rule":"evenodd"})],-1),j=[B],L=(0,a._)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 m-auto",viewBox:"0 0 20 20",fill:"currentColor"},[(0,a._)("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1),O=[L],Z=["textContent"];var E={__name:"TweetCard",props:{tweet:Object},emits:["delete"],setup(e,{emit:t}){const n=e,{tweet:s}=(0,o.BK)(n),{wallet:c}=(0,r.cF)(),u=(0,a.Fl)((()=>c&&c.value?.publicKey?.toBase58()===s.value.author.toBase58())),d=(0,a.Fl)((()=>u.value?{name:"Profile"}:{name:"Users",params:{author:s.value.author.toBase58()}})),p=(0,o.iH)(!1),v=async()=>{await(0,i.cr)(s.value),t("delete",s.value)};return(e,t)=>{const n=(0,a.up)("router-link");return p.value?((0,a.wg)(),(0,a.j4)((0,o.SU)(C),{key:0,tweet:(0,o.SU)(s),onClose:t[0]||(t[0]=e=>p.value=!1)},null,8,["tweet"])):((0,a.wg)(),(0,a.iD)("div",M,[(0,a._)("div",F,[(0,a._)("div",D,[(0,a._)("h3",{class:"inline font-semibold",title:(0,o.SU)(s).author},[(0,a.Wm)(n,{to:(0,o.SU)(d),class:"hover:underline"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)((0,o.SU)(s).author_display),1)])),_:1},8,["to"])],8,P),z,(0,a._)("time",{class:"text-gray-500 text-sm",title:(0,o.SU)(s).created_at},[(0,a.Wm)(n,{to:{name:"Tweet",params:{tweet:(0,o.SU)(s).publicKey.toBase58()}},class:"hover:underline"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)((0,o.SU)(s).created_ago),1)])),_:1},8,["to"])],8,N)]),(0,o.SU)(u)?((0,a.wg)(),(0,a.iD)("div",T,[(0,a._)("button",{onClick:t[1]||(t[1]=e=>p.value=!0),class:"flex px-2 rounded-full text-gray-500 hover:text-pink-500 hover:bg-gray-100",title:"Update tweet"},j),(0,a._)("button",{onClick:v,class:"flex px-2 rounded-full text-gray-500 hover:text-pink-500 hover:bg-gray-100",title:"Delete tweet"},O)])):(0,a.kq)("",!0)]),(0,a._)("p",{class:"whitespace-pre-wrap break-all",textContent:(0,l.zw)((0,o.SU)(s).content)},null,8,Z),(0,o.SU)(s).topic?((0,a.wg)(),(0,a.j4)(n,{key:0,to:{name:"Topics",params:{topic:(0,o.SU)(s).topic}},class:"inline-block mt-2 text-pink-500 hover:underline break-all"},{default:(0,a.w5)((()=>[(0,a.Uk)(" #"+(0,l.zw)((0,o.SU)(s).topic),1)])),_:1},8,["to"])):(0,a.kq)("",!0)]))}}};const K=E;var V=K},34613:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var a=n(37154),o=n(39028),l=n(37280),r=n(76326),i=n(21514),s=n(72639);const c={key:0,class:"px-8 py-4 border-b"},u={class:"flex flex-wrap items-center justify-between -m-2"},d={class:"relative m-2 mr-4"},p=["value","disabled"],v={class:"absolute left-0 inset-y-0 flex pl-3 pr-2"},g=(0,a._)("path",{"fill-rule":"evenodd",d:"M9.243 3.03a1 1 0 01.727 1.213L9.53 6h2.94l.56-2.243a1 1 0 111.94.486L14.53 6H17a1 1 0 110 2h-2.97l-1 4H15a1 1 0 110 2h-2.47l-.56 2.242a1 1 0 11-1.94-.485L10.47 14H7.53l-.56 2.242a1 1 0 11-1.94-.485L5.47 14H3a1 1 0 110-2h2.97l1-4H5a1 1 0 110-2h2.47l.56-2.243a1 1 0 011.213-.727zM9.03 8l-1 4h2.938l1-4H9.031z","clip-rule":"evenodd"},null,-1),m=[g],f={class:"flex items-center space-x-6 m-2 ml-auto"},w=["disabled"],h={key:1,class:"px-8 py-4 bg-gray-50 text-gray-500 text-center border-b"};var y={__name:"TweetForm",props:{forcedTopic:String},emits:["added"],setup(e,{emit:t}){const n=e,{forcedTopic:g}=(0,o.BK)(n),y=(0,o.iH)(""),x=(0,o.iH)(""),b=(0,i.f2)(x),k=(0,a.Fl)((()=>g.value??b.value)),_=(0,o.iH)();(0,i.dN)(_);const S=(0,i.T8)(y,280),U=(0,a.Fl)((()=>S.value<0?"text-red-500":S.value<=10?"text-yellow-500":"text-gray-400")),{connected:H}={connected:!0},C=(0,a.Fl)((()=>y.value&&S.value>0)),M=async()=>{if(!C.value)return;const e=await(0,s.R)(k.value,y.value);t("added",e),x.value="",y.value=""};return(e,t)=>(0,o.SU)(H)?((0,a.wg)(),(0,a.iD)("div",c,[(0,a.wy)((0,a._)("textarea",{ref_key:"textarea",ref:_,rows:"1",class:"text-xl w-full focus:outline-none resize-none mb-3",placeholder:"What's happening?","onUpdate:modelValue":t[0]||(t[0]=e=>y.value=e)},null,512),[[l.nr,y.value]]),(0,a._)("div",u,[(0,a._)("div",d,[(0,a._)("input",{type:"text",placeholder:"topic",class:"text-pink-500 rounded-full pl-10 pr-4 py-2 bg-gray-100",value:(0,o.SU)(k),disabled:(0,o.SU)(g),onInput:t[1]||(t[1]=e=>x.value=e.target.value)},null,40,p),(0,a._)("div",v,[((0,a.wg)(),(0,a.iD)("svg",{xmlns:"http://www.w3.org/2000/svg",class:(0,r.C_)(["h-5 w-5 m-auto",(0,o.SU)(k)?"text-pink-500":"text-gray-400"]),viewBox:"0 0 20 20",fill:"currentColor"},m,2))])]),(0,a._)("div",f,[(0,a._)("div",{class:(0,r.C_)((0,o.SU)(U))},(0,r.zw)((0,o.SU)(S))+" left ",3),(0,a._)("button",{class:(0,r.C_)(["text-white px-4 py-2 rounded-full font-semibold",(0,o.SU)(C)?"bg-pink-500":"bg-pink-300 cursor-not-allowed"]),disabled:!(0,o.SU)(C),onClick:M}," Tweet ",10,w)])])])):((0,a.wg)(),(0,a.iD)("div",h," Connect your wallet to start tweeting... "))}};const x=y;var b=x},47587:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(37154),o=n(39028),l=n(8455);const r={class:"divide-y"},i={key:0,class:"p-8 text-gray-500 text-center"},s={key:1,class:"p-8 text-center"};var c={__name:"TweetList",props:{tweets:Array,loading:Boolean,hasMore:Boolean},emits:["update:tweets","more"],setup(e,{emit:t}){const n=e,{tweets:c,loading:u,hasMore:d}=(0,o.BK)(n),p=(0,a.Fl)((()=>c.value.slice().sort(((e,t)=>t.timestamp-e.timestamp)))),v=e=>{const n=c.value.filter((t=>t.publicKey.toBase58()!==e.publicKey.toBase58()));t("update:tweets",n)};return(e,n)=>((0,a.wg)(),(0,a.iD)("div",r,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)((0,o.SU)(p),(e=>((0,a.wg)(),(0,a.j4)((0,o.SU)(l.Z),{key:e.key,tweet:e,onDelete:v},null,8,["tweet"])))),128)),(0,o.SU)(u)?((0,a.wg)(),(0,a.iD)("div",i," Loading... ")):(0,o.SU)(d)?((0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("button",{onClick:n[0]||(n[0]=e=>t("more")),class:"px-4 py-2 rounded-full border bg-gray-50 hover:bg-gray-100 text-gray-700 hover:text-gray-900"}," Load more ")])):(0,a.kq)("",!0)]))}};const u=c;var d=u},94468:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var a=n(37154),o=n(39028),l=n(37280),r=n(76326);const i={class:"relative border-b"},s=["placeholder","value"],c={class:"absolute right-0 inset-y-0 flex items-center pr-8"},u=["disabled"];var d={__name:"TweetSearch",props:{modelValue:String,placeholder:String,disabled:Boolean},emits:["search","update:modelValue"],setup(e,{emit:t}){const n=e,{modelValue:d,placeholder:p,disabled:v}=(0,o.BK)(n);return(e,n)=>((0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("input",{type:"text",class:"text-gray-700 w-full pl-16 pr-32 py-4 bg-gray-50",placeholder:(0,o.SU)(p),value:(0,o.SU)(d),onInput:n[0]||(n[0]=e=>t("update:modelValue",e.target.value)),onKeydown:n[1]||(n[1]=(0,l.D2)((e=>t("search")),["enter"]))},null,40,s),(0,a._)("div",{class:(0,r.C_)(["absolute left-0 inset-y-0 flex items-center justify-center pl-8 pr-2",(0,o.SU)(d)?"text-gray-700":"text-gray-400"])},[(0,a.WI)(e.$slots,"icon")],2),(0,a._)("div",c,[(0,a._)("button",{class:(0,r.C_)(["rounded-full px-4 py-1 font-semibold",(0,o.SU)(v)?"text-gray-400 bg-gray-200 cursor-not-allowed":"text-gray-700 bg-gray-300 hover:bg-gray-400 hover:text-white"]),disabled:(0,o.SU)(v),onClick:n[2]||(n[2]=e=>t("search"))}," Search ",10,u)])]))}};const p=d;var v=p},71456:function(){},48405:function(){},38873:function(){},12049:function(){},26245:function(){},54538:function(){},45545:function(){},46047:function(){},50303:function(){},1826:function(){}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(l.exports,l,l.exports,n),l.loaded=!0,l.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,a,o,l){if(!a){var r=1/0;for(u=0;u<e.length;u++){a=e[u][0],o=e[u][1],l=e[u][2];for(var i=!0,s=0;s<a.length;s++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[s])}))?a.splice(s--,1):(i=!1,l<r&&(r=l));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[a,o,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var l=Object.create(null);n.r(l);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},n.d(l,r),l}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+e+".ef2de599.js"}}(),function(){n.miniCssF=function(e){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="app:";n.l=function(a,o,l,r){if(e[a])e[a].push(o);else{var i,s;if(void 0!==l)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+l){i=d;break}}i||(s=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+l),i.src=a),e[a]=[o];var p=function(t,n){i.onerror=i.onload=null,clearTimeout(v);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},v=setTimeout(p.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=p.bind(null,i.onerror),i.onload=p.bind(null,i.onload),s&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p="/solana-twitter/"}(),function(){var e={143:0};n.f.j=function(t,a){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var l=new Promise((function(n,a){o=e[t]=[n,a]}));a.push(o[2]=l);var r=n.p+n.u(t),i=new Error,s=function(a){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var l=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+l+": "+r+")",i.name="ChunkLoadError",i.type=l,i.request=r,o[1](i)}};n.l(r,s,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,r=a[0],i=a[1],s=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(s)var u=s(n)}for(t&&t(a);c<r.length;c++)l=r[c],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(u)},a=self["webpackChunkapp"]=self["webpackChunkapp"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(44908)}));a=n.O(a)})();
//# sourceMappingURL=app.dea23c23.js.map